#!/usr/bin/env python3

import click
from gener8.dockerfile import Dockerfile

@click.command()
@click.option('--linux-type', type=click.Choice(['alpine', 'ubuntu', 'debian']), prompt=True, default='alpine')
def cli(linux_type):
    """
    A little tool to generate a Dockerfile.
    """
    docker_file = Dockerfile()
    default_image = docker_file.set_linux_type(linux_type)

    docker_image = click.prompt('Base Docker Image', default=default_image)
    docker_file.set_base_image(docker_image)

    print(f"Creating a Dockerfile with {docker_file.linux_type} with {docker_image} as base image: ")
    template = docker_file.render_template()

    print(f"Writing Docker file with contents: \n\n{template}")
    docker_file.write_template()

if __name__ == '__main__':
    cli()
